<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8" />
    <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="manifest" href="manifest.json" crossorigin="use-credentials">
    <link rel="icon" type="image/png" href="./icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <title>Műszak Naptár</title>
     <link rel="stylesheet" type="text/css" href="Css_stuff.css">
     <script src="path/to/your/script.js" type="text/javascript"></script>
</head>
<body>
    <div id="navbar">
        <button id="calendar-btn">
            <span>
                <i></i>
                <em></em>
            </span>
            <img src="calendar.png" alt="Naptár" class="nav-icon"/>
        </button>
        <button id="payroll-btn">
            <span>
                <i></i>
                <em></em>
            </span>
            <img src="ber.png" alt="Bérszámfejtés" class="nav-icon"/>
        </button>
        <button id="settings-btn">
            <span>
                <i></i>
                <em></em>
            </span>
            <img src="settings.png" alt="Beállítások" class="nav-icon"/>
        </button>
        <button id="help-btn">
            <span>
                <i></i>
                <em></em>
            </span>
            <img src="info.png" alt="Súgó" class="nav-icon"/>
        </button>
    </div>
    <div id="content">
    <div id="calendar-section" class="section active">
        <div id="calendar-header">
            <button id="prev-month-btn">
                <img src="left.png" alt="Előző hónap" style="width: 30px; height: 30px;"/>
            </button>
            <h2 id="current-month">Január 2024</h2>
            <button id="next-month-btn">
                <img src="right.png" alt="Következő hónap" style="width: 30px; height: 30px;"/>
            </button>
        </div>
        <table id="calendarTable">
        <thead>
            <tr>
            <th>H</th>
            <th>K</th>
            <th>SZE</th>
            <th>CS</th>
            <th>P</th>
            <th>SZO</th>
            <th>V</th>
            </tr>
        </thead>
        <tbody id="calendar-body">
            <!-- Naptár tartalma ide generálódik -->
        </tbody>
        </table>
    </div>

    <div id="payroll-section" class="section">
        <div id="payroll-header">
            <button id="prev-payroll-month-btn">
                <img src="left.png" alt="Előző hónap" style="width: 30px; height: 30px;"/>
            </button>
            <h2 id="current-payroll-month">Január 2024</h2>
            <button id="next-payroll-month-btn">
                <img src="right.png" alt="Következő hónap" style="width: 30px; height: 30px;"/>
            </button>
        </div>
        <div id="payroll-content">
        <table id="payroll-table">
            <thead>
            <tr>
                <th>Tétel</th>
                <th>Érték</th>
            </tr>
            </thead>
            <tbody id="payroll-body">
            <!-- Ide generálódnak a bérszámfejtési tételek -->
            </tbody>
        </table>
        </div>
    </div>

    <div id="settings-section" class="section">
        <!-- Fejléc az év váltáshoz -->
        <div
        id="settings-header"
        >
        <button
            id="prev-settings-year-btn"
        >
            <img src="left.png" alt="Előző év" style="width: 30px; height: 30px;"/>
        </button>
        <h2 id="current-settings-year"></h2>
        <button
            id="next-settings-year-btn"
        >
            <img src="right.png" alt="Következő év" style="width: 30px; height: 30px;"/>
        </button>
        </div>

        <!-- Műszakrend -->
        <div class="setting-group">
        <h3>Műszakrend</h3>
        <select id="shift-pattern-select" class="mobile-button">
            <option value="1">1. Műszakrend</option>
            <option value="2">2. Műszakrend</option>
            <option value="3">3. Műszakrend</option>
            <option value="4">4. Műszakrend</option>
            <option value="A">A Műszakrend</option>
            <option value="B">B Műszakrend</option>
            <option value="C">C Műszakrend</option>
        </select>
        </div>

        <!-- Besorolási bér -->
        <div class="setting-group">
        <h3>Besorolási bér</h3>
        <div style="position: relative;">
            <input
                type="number"
                id="base-salary"
                class="mobile-button salary-input"
                placeholder="Besorolási bér"
                style="padding-right: 45px;"
            />
        </div>
        </div>
        <div class="setting-group">
            <h3>Éves szabadság</h3>
            <input type="number" id="vacation-days" class="mobile-button" placeholder="Éves szabadságnapok" step="0.5">
        </div>

        <!-- Évközi változás -->
        <div class="setting-group">
        <div style="margin-top: 10px">
            <h3>Évközi bérváltozás beállítása</h3>
            <select
            id="midyear-month"
            class="mobile-button"
            style="width: 49%; display: inline-block; color: grey"
            >
            <option value="">Hónap...</option>
            <option value="0">Január</option>
            <option value="1">Február</option>
            <option value="2">Március</option>
            <option value="3">Április</option>
            <option value="4">Május</option>
            <option value="5">Június</option>
            <option value="6">Július</option>
            <option value="7">Augusztus</option>
            <option value="8">Szeptember</option>
            <option value="9">Október</option>
            <option value="10">November</option>
            <option value="11">December</option>
            </select>
            <input
            type="number"
            id="midyear-salary"
            class="mobile-button"
            placeholder="Új besorolási bér"
            style="width: 49%; display: inline-block"
            />
        </div>
        <button id="add-midyear-change" class="mobile-button">
            Évközi változás hozzáadása
        </button>
        <div id="midyear-changes-list" style="margin-top: 10px"></div>
        </div>

        <div class="setting-group">
            <h3>Családi adókedvezmény</h3>
            <input type="number" id="children-count" class="mobile-button" placeholder="Gyermekek száma" min="0" max="99"/>
        </div>

        <!-- Egyéb jövedelem -->
        <div class="setting-group">
        <h3>Egyéb jövedelem</h3>
        <input
            type="number"
            id="other-income"
            class="mobile-button"
            placeholder="Egyéb jövedelem"
        />
        </div>

        <!-- 25 év alatti kedvezmény -->
        <div class="setting-group">
        <h3>25 év alatti kedvezmény</h3>
        <div style="margin-bottom: 10px">
            <input
            type="checkbox"
            id="under25-checkbox"
            style="margin-right: 10px"
            />
            <label for="under25-checkbox">25 év alatti vagyok</label>
        </div>
        <div id="birth-date-container" style="display: none">
            <input
            type="number"
            id="birth-year"
            class="mobile-button"
            placeholder="Születési év"
            style="width: 49%; display: inline-block"
            />
            <select
            id="birth-month"
            class="mobile-button"
            style="width: 49%; display: inline-block"
            >
            <option value="">Születési hónap</option>
            <option value="1">Január</option>
            <option value="2">Február</option>
            <option value="3">Március</option>
            <option value="4">Április</option>
            <option value="5">Május</option>
            <option value="6">Június</option>
            <option value="7">Július</option>
            <option value="8">Augusztus</option>
            <option value="9">Szeptember</option>
            <option value="10">Október</option>
            <option value="11">November</option>
            <option value="12">December</option>
            </select>
        </div>
        </div>

        <!-- Színbeállítások -->
        <div class="setting-group">
        <h3>Színbeállítások</h3>
        <div id="color-settings">
            <!-- Nappali műszak -->
            <div class="color-row">
            <div class="color-preview nappal-preview">Nappal</div>
            <div class="color-buttons">
                <button
                class="color-picker"
                data-shift-type="nappal"
                data-color-type="bg"
                >
                Háttérszín
                </button>
                <button
                class="color-picker"
                data-shift-type="nappal"
                data-color-type="text"
                >
                Szövegszín
                </button>
            </div>
            </div>

            <!-- Éjszakai műszak -->
            <div class="color-row">
            <div class="color-preview ejszaka-preview">Éjszaka</div>
            <div class="color-buttons">
                <button
                class="color-picker"
                data-shift-type="ejszaka"
                data-color-type="bg"
                >
                Háttérszín
                </button>
                <button
                class="color-picker"
                data-shift-type="ejszaka"
                data-color-type="text"
                >
                Szövegszín
                </button>
            </div>
            </div>

            <!-- Szabadság -->
            <div class="color-row">
            <div class="color-preview szabadsag-preview">Szabadság</div>
            <div class="color-buttons">
                <button
                class="color-picker"
                data-shift-type="szabadsag"
                data-color-type="bg"
                >
                Háttérszín
                </button>
                <button
                class="color-picker"
                data-shift-type="szabadsag"
                data-color-type="text"
                >
                Szövegszín
                </button>
            </div>
            </div>

            <!-- Túlóra -->
            <div class="color-row">
            <div class="color-preview tulora-preview">Túlóra</div>
            <div class="color-buttons">
                <button
                class="color-picker"
                data-shift-type="tulora"
                data-color-type="bg"
                >
                Háttérszín
                </button>
                <button
                class="color-picker"
                data-shift-type="tulora"
                data-color-type="text"
                >
                Szövegszín
                </button>
            </div>
            </div>

            <!-- Csúszó -->
            <div class="color-row">
            <div class="color-preview csuszo-preview">Csúszó</div>
            <div class="color-buttons">
                <button
                class="color-picker"
                data-shift-type="csuszo"
                data-color-type="bg"
                >
                Háttérszín
                </button>
                <button
                class="color-picker"
                data-shift-type="csuszo"
                data-color-type="text"
                >
                Szövegszín
                </button>
            </div>
            </div>

            <!-- Táppénz -->
            <div class="color-row">
            <div class="color-preview tappenz-preview">Táppénz</div>
            <div class="color-buttons">
                <button
                class="color-picker"
                data-shift-type="tappenz"
                data-color-type="bg"
                >
                Háttérszín
                </button>
                <button
                class="color-picker"
                data-shift-type="tappenz"
                data-color-type="text"
                >
                Szövegszín
                </button>
            </div>
            </div>
        </div>
        </div>

        <!-- Mentés gomb --> 
        <div class="save">
        <button id="save-settings" class="mobile-button">Mentés</button>
        </div>
    </div>

    <div id="help-section" class="section">
    <div style="margin: 15px; text-align: left; padding: 15px; line-height: 1.6;">
        <div style="background-color: #fff3cd; color: #856404; padding: 15px; border: 1px solid #ffeeba; border-radius: 5px; margin-bottom: 20px;">
            <h4 style="color: #856404; margin-top: 0;">Figyelmeztetés!</h4>
            <p>Ez a program kizárólag tájékoztató jellegű számításokat végez. A programban szereplő számítások és eredmények nem tekinthetők hivatalos bérszámfejtésnek. A program használata saját felelősségre történik. Eltérés esetén először bizonyosodj meg hogy valóban hiba történt és nem a program nem jó használata miatt történt hiba. A program hibázhat, ezt mindig vedd figyelembe.</p>
        </div>
        <h3 style="font-size:30px">A program használata:</h3>
        <div style="background-color: #999; padding: 30px; border-radius: 8px; margin: 10px 0;">
        <p>A program a Naptárba és a Beállításokba bevitt adatok alapján dolgozik, kivével a Bónusz(0,1 vagy 2) és az Éttermi fogyasztást. Ezeket kézzel kell beírni minden hónapban(és évben). Mindig ellenőrizd hogy meg-e volt mindkét bónuszod, mivel ha már az egyik nem volt meg, akkor az már könnyen meglátszódik a nettó béren.</p>
        </div>

        <h4 style="font-size:20px">Beállítások:</h4>
        <div style="background-color: lightblue; padding: 30px; border-radius: 8px; margin: 10px 0;">
        <ol>
            <li><strong>Besorolási bér:</strong> Ebből az adatból fogja kiszámolni a program mennyit keresel a hónapban.</li>
            <li><strong>Éves szabadság:</strong> Ide az éves szabadságodat kell beírni (pl. 25). A bérszámfejtésben nyomon tudod követni, mennyi szabadságod marad a hónap végén.</li>
            <li><strong>Műszakrend (1-2-3-4-A-B-C):</strong> A program a kiválasztott műszakrend szerint elkészíti a műszakrendet a kiválaszott évre. Hogyha új műszakrendet adsz meg, akkor az törölni fogja a Naptárba bevitt adatokat például Szabadság, Túlóra stb. ezért újra be kell őket írni.</li>
            <li><strong>Egyéb jövedelmek:</strong> Ide írhatod az olyan jövedelmeket mint például a gyerekek után járó kedvezmény. Fontos hogy nettóban írd be az összeget. Ha csak a bruttót tudod, akkor azt az értéket például 50.000, szorozd meg 0,665-el és így megkapod a nettó értéket. Ha nem tudod mennyi a Bruttó és a Nettó sem, akkor érdemes az interneten kutatni.</li>
            <li><strong>25 év alatti kedvezmény:</strong> Ha bepipálod akkor meg kell adnod a születési éved és hónapod, a program eszerint fogja a kedvezményt megadni. Minden évben meg kell adni. A 2026-os évre előre nem lehet tudni mennyi lesz a kedvezmény, úgyhogy a 2025-ös évet használja a program.</li>
            <li><strong>Év közbeni besorolási bér változás:</strong> Ha év közben új besorolási bért kapsz, akkor azt ide kell beírnod és attól a hónaptól kezdve amit kiválasztasz, a program már az új béreddel fog számolni. Az eredeti besorolási bért NE változtasd meg, illetve figyelj oda hogy a megfelelő év van kiválasztva.</li>
        </ol></div>

        <h4 style="font-size:20px">Naptár:</h4>
            <div style="background-color: #ff0000; padding: 30px; border-radius: 8px; margin: 10px 0;">
        <ol>
            <li>A Naptárt a műszakrend szerint a program elkészíti, amit a beállításokban bármikor módosíthatsz.</li>
            <li><strong>FONTOS</strong> hogy a megfelelő adat legyen kiválasztva, tehát ha Éjszakás vagy és szabadságra mész, akkor a Szabadság éjszaka opciók közül kell választanod és ugyanígy mindenhol ahol ilyen opció van.</li>
            <li>Ha rossz adatokat választasz ki, akkor a program nem fog pontosan számolni. (Szabadság, Túlóra, Csúszó)</li>
            <li>Nem mindegy hogyműszakot csúszol le, vagy pedig a túlóra keretedből veszel el. Ha csak műszakot csúszol vagy műszakot cserélsz, akkor az eredeti műszakodat töröld ki és az új dátum helyére add meg a műszakot.</li>
            <li>Ha a túlóra keretedből veszel el, akkor kell használni a "Csúszó" adatokat. Itt is odafigyelve hogy éjszaka vagy sima nappal. Ha kombinálod a Csúszót és a Szabadságot, akkor csak a Szabadságot kell kiválasztani. Példa: 8 óra szabadság + 4 óra Csúszó, akkor csak a Szabadság 8 óra adatot kell kiválasztani.</li>
        </ol></div>
        <br>
        <h3>📊 Részletes Számítási Módszertan:</h3>
    
    <h4>🏢 Alapadatok:</h4>
    <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
        <p><strong>Ledolgozandó napok:</strong> Minden nap beleszámít, ahová alap esetben a műszakrended szerint bevagy osztva.</p>
        <p><strong>Ledolgozott napok: Azok a napok, amikor valóban bent voltál dolgozni.</strong></p>
        <ul>
            <li>Nappal/Éjszaka/Csúszó = 1 nap</li>
            <li>Szabadság 12 óra = 0 nap</li>
            <li>Szabadság 8 óra = 1/3 nap (0,33)</li>
            <li>Szabadság 4 óra = 2/3 nap (0,66)</li>
            <li>Túlóra, táppénz nem adódik hozzá</li>
        </ul>
    </div>

    <h4>Alapbér számítása:</h4>
    <div style="background-color: #e3f2fd; padding: 15px; border-radius: 8px; margin: 10px 0;">
        <p><strong>Ez nem a besorolási béred. A két adat teljesen más!</strong></p>
        <p><strong>Képlet:</strong> <code>Alapbér = (Besorolási bér ÷ Ledolgozandó napok) × Ledolgozott napok</code></p>
        <p><strong>Példa:</strong> Besorolási béred, ami: 400.000 Ft ÷ 20 nap × 18 nap = 360.000 Ft</p>
    </div>

    <h4>Túlóra számítások:</h4>
    <div style="background-color: #fff3e0; padding: 15px; border-radius: 8px; margin: 10px 0;">
        <p><strong>Túlóra alap:</strong> <code>(Besorolási bér ÷ irodista havi 8 óra [például 20 nap × 8 óra] ) × Túlóra órák száma</code></p>
        <p><strong>Túlórapótlék:</strong> <code>(Besorolási bér ÷ 174) × Túlóra órák</code></p>
        <p><strong>Negyedéves túlóra keret:</strong> 3 havonta automatikusan hozzáadódik a túlórához</p>
    </div>

    <h4>Ünnepnapok számítása</h4>
    <div style="background-color: #fff8e1; padding: 15px; border-radius: 8px; margin: 10px 0;">
        <p><strong>Fizetett ünnepnap:</strong> Számítás: Besorolási bér ÷ Ledolgozandó napok × Ünnepnapok száma, amikor dolgozol</p>
    </div>

    <h4>Műszak- és Hétvégi pótlék számítása</h4>
    <div style="background-color: #f3e5f5; padding: 15px; border-radius: 8px; margin: 10px 0;">
        <p><strong>Műszakpótlék (40%):</strong> <code>(Besorolási bér ÷ 174) × Éjszakai órák × 0,4</code></p>
        <p><strong>Hétvégi pótlék (50%):</strong> <code>(Besorolási bér ÷ 174) × Vasárnapi órák × 0,5</code></p>
        <p><strong>Fontos:</strong> Ünnepnapokon nem jár műszak- és hétvégi pótlék a túlórákhoz!</p>
    </div>

    <h4>Szabadság számítása</h4>
    <div style="background-color: #e8f5e8; padding: 15px; border-radius: 8px; margin: 10px 0;">
        <p><strong>Szabadságra jutó fizetés:</strong> <code>(Besorolási bér ÷ (Ledolgozandó napok × 12)) × Szabadság órák</code></p>
    </div>

    <h4>Teljesítmény prémium:</h4>
    <div style="background-color: #fce4ec; padding: 15px; border-radius: 8px; margin: 10px 0;">
        <p><strong>Képlet:</strong> <code>Besorolási bér × 5% × Bónusz szorzó (0, 1 vagy 2)</code></p>
        <p><strong>Példa:</strong> 400.000 Ft × 5% × 2 = 40.000 Ft</p>
    </div>

    <h4>Adók és járulékok:</h4>
    <div style="background-color: #ffebee; padding: 15px; border-radius: 8px; margin: 10px 0;">
        <p><strong>TB Járulék (18,5%):</strong> <code>Bruttó bér × 18,5%</code></p>
        <p><strong>SZJA előleg (15%):</strong> <code>Max(0, (Bruttó bér × 15%) - 25 év alatti kedvezmény)</code></p>
    </div>

    <h4>Családi adókedvezmény:</h4>
    <div style="background-color: #e1f5fe; padding: 15px; border-radius: 8px; margin: 10px 0;">
        <p><strong>2025 első fél év:</strong></p>
        <ul>
            <li>1 gyermek: 10.000 Ft/hó</li>
            <li>2 gyermek: 20.000 Ft/hó/gyermek</li>
            <li>3+ gyermek: 33.000 Ft/hó/gyermek</li>
        </ul>
        <p><strong>2025 második fél év:</strong></p>
        <ul>
            <li>1 gyermek: 15.000 Ft/hó</li>
            <li>2 gyermek: 30.000 Ft/hó/gyermek</li>
            <li>3+ gyermek: 49.500 Ft/hó/gyermek</li>
        </ul>
        <p><strong>2026 Januártól:</strong></p>
        <ul>
            <li>1 gyermek: 20.000 Ft/hó</li>
            <li>2 gyermek: 40.000 Ft/hó/gyermek</li>
            <li>3+ gyermek: 66.000 Ft/hó/gyermek</li>
        </ul>
    </div>

    <h4>Nettó bér:</h4>
    <div style="background-color: #f1f8e9; padding: 15px; border-radius: 8px; margin: 10px 0; border: 2px solid #4caf50;">
        <p><strong>Képlet:</strong></p>
        <code style="display: block; background: white; padding: 10px; border-radius: 4px; margin: 10px 0;">
        Nettó = Bruttó bér - Adózás
        </code>
    </div>
    </div>
    </div>
    </div>
</body>
</html>
